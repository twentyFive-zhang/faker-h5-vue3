import{c as a,n as o,t as l,m as r,d as s,o as e,W as i,q as n,v as t,i as c,z as d,a6 as u,a7 as v,b as g,a8 as h,a9 as f,J as p,A as m,I as y,w as b,l as w}from"./index.75c2db2b.js";const[z,S]=a("image");const x=b(s({name:z,props:{src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:o,height:o,radius:o,lazyLoad:Boolean,iconSize:o,showError:l,errorIcon:r("photo-fail"),iconPrefix:String,showLoading:l,loadingIcon:r("photo")},emits:["load","error"],setup(a,{emit:o,slots:l}){const r=e(!1),s=e(!0),b=e(),{$Lazyload:w}=i().proxy,z=n((()=>{const o={width:t(a.width),height:t(a.height)};return c(a.radius)&&(o.overflow="hidden",o.borderRadius=t(a.radius)),o}));d((()=>a.src),(()=>{r.value=!1,s.value=!0}));const x=a=>{s.value=!1,o("load",a)},I=a=>{r.value=!0,s.value=!1,o("error",a)},L=(o,l,r)=>r?r():g(y,{name:o,size:a.iconSize,class:l,classPrefix:a.iconPrefix},null),k=()=>{if(r.value||!a.src)return;const o={alt:a.alt,class:S("img"),style:{objectFit:a.fit,objectPosition:a.position}};return a.lazyLoad?h(g("img",p({ref:b},o),null),[[f("lazy"),a.src]]):g("img",p({src:a.src,onLoad:x,onError:I},o),null)},$=({el:a})=>{const o=()=>{a===b.value&&s.value&&x()};b.value?o():m(o)},P=({el:a})=>{a!==b.value||r.value||I()};return w&&u&&(w.$on("loaded",$),w.$on("error",P),v((()=>{w.$off("loaded",$),w.$off("error",P)}))),()=>{var o;return g("div",{class:S({round:a.round,block:a.block}),style:z.value},[k(),s.value&&a.showLoading?g("div",{class:S("loading")},[L(a.loadingIcon,S("loading-icon"),l.loading)]):r.value&&a.showError?g("div",{class:S("error")},[L(a.errorIcon,S("error-icon"),l.error)]):void 0,null==(o=l.default)?void 0:o.call(l)])}}}));const I=s({props:{list:{type:Array,default:()=>[]},onChange:{type:Function,default:()=>{}}},setup(a){var o;const l=w({activeKey:(null==(o=a.list[0])?void 0:o.name)||""});return()=>g("div",{class:"tab-list"},[g("div",{class:"tab-list-cont"},[null==a?void 0:a.list.map((({title:o,name:r},s)=>g("div",{key:r,class:"tab-item "+(r===l.activeKey?"active":""),onClick:()=>{var o;l.activeKey=r,null==(o=null==a?void 0:a.onChange)||o.call(a,r)}},[o])))])])}});export{x as I,I as T};
